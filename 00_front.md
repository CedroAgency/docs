# Общие требования к вёрстке

Основные принципы, которых мы стараемся придерживатья
- DRY (не повторять одинаковый код)
- Максимальный компонентный подход, позволяющий переиспользовать компоненты
- Использование БЭМ для создания изолированных блоков
- Использование сторонних JS библиотек, везде где это возможно

## Технические требования
1. Избегаем инлайновых стилей и скриптов.
2. SVG иконки делаем спрайтом, который подтягивается в js скрипте. Исключения - контентные иконки, которые конечный клиент может сам изменять. Их вставляем через тег `img` или фон. В спрайт, попадают "сквозные" иконки, которые используются для всех страниц сайта и разделов и являются элементом интерфейса. Если иконка используется на одной-двух страницах, это признак контентной иконки.
4. Интерактивные элементы (кнопки, ссылки, инпуты, etc), должны иметь состояния `:hover`, `:active` и `:focus`. Если они отсутствуют, следует запросить их у дизайнера.
5. Ресайз `textarea` не должен ломать вёрстку, либо должен быть отключен.
6. Для `BODY` всегда должен быть описан цвет фона, даже если он белый.
7. Для резиновых макетов должна быть задана минимальная ширина в 375px.
8. Сайт должен помещаться без горизонтальных скроллбаров, во viewport браузера.
9. Футер должен быть «прибит» к низу браузера при отсутствии/малом количестве контента.
10. Для заголовков и подзаголовков используйте предназначенные для этого теги h1 – h6. Основной заголовок h1 должен быть один на странице. Заголовков 2 и 3 уровня не более 3х каждого вида на страницу. Заголовки должны быть использованы сохраняя последовательность.
11. @font-face должен содержать свойство `font-display: swap;`
12. Ссылки на чужие сайты делаем с `target="blank" rel="nofollow noreferrer noopener"` (в том числе на сайт Cedro)
13. Все сторонние библиотеки и шрифты, должны иметь лицензию, позволяющую использовать их в комерческих проектах.
14. Не использовать тег параграфов `<p>` в сочетании с классами. Связано это с наполнением контента через админку. Конечный клиент не будет вставлять классы, а заполнит текст через визуальный редактор Битрикса, который наплодит тегов `<p></p>` по собственному разумению. Тег параграфа может использоваться только в сочетании с классом на родительком элементе
15. Если список находится внутри текста, то нельзя использовать классы на `<ul>/<ol>/<li>`. Причина аналогична предыдущему пункту. Если необходимо изменить стили этих элементов, обращайтесь через класс родительского блока.
16. Кнопка "Прокрутить вниз" должна быть либо отдельным элементом, либо должна быть частью верхнего блока. Чтобы блоки на странице (после главного слайдера, например), можно было переставить без изменений html разметки.
17. При вёрстке компонента учтите, что любой элемент можно быть незаполнен/удален - дата, подзаголовок, текст описания и тд. и это НЕ ДОЛЖНО ломать вёрстку.
18. Классы и ID используемые для работы c JS, должны начинаться с префикса `js-` и не использовать каких-то стилей. Так мы отделяем логику от оформления.
19. Выбор цвета в фильтрах, карточках товара должен быть осуществелён не с помощью класса, а с помощью инлайн стиля. Желательно предусмотреть два варианта - что цвет может быть добавлен как с помощью background-color, так и с помощью background-image

## Формы

1. Используйте элементы `input`, `select` и `textarea` в связке с `label`.
2. Все элементы формы должны иметь атрибут `name`.
3. `checkbox` и множественный `select` должны иметь в name квадратные скобки [] (ex. name='color[]')
4. Submit формы должен происходить на эндпоинт указанный в `action`, если не оговорено иное.
5. Сообщение об успешной отправке формы демонстрируется на ответ с бэка `data.result === 'OKAY'`.
6. Не забывайте что форма может быть предзаполнена(изначально или автокомплитом браузера). Валидация от этого не должна ломаться


## JS

1. Все файлы (картинки, иконки карт и прочее), которые подтягиваются в js должны в пути иметь константу ASSETS_PATH, константа задаётся без слэша на конце
```
<script>
  var ASSETS_PATH = '/local/html/build';
</script>
```
2. Обязательна проверка на существование элемента в js перед его использованием.
3. При отключенном js верстка должна отображаться корректно, либо должно отображаться уведомление об этом.
4. При необходимости модификации сторонних плагинов, нужно дописывать к имени файла постфикс _custom. Внутри файла желательно описать проведённые модификации.

   Пример:
   ```
   плагин - maskedinput.js
   модифицированнный - maskedinput_custom.js

   комментарии —
   // вырезал методы destroy(), add()
   // изменил параметры
   ```
В идеале, все плагины должны быть установлены через npm и подключаться из папки `node_modules`.


## PUG

1. В компоненты, всегда прокидываем пропсы `mixin block(props = {})`

2. Стараемся везде прокидывать атрибуты `.block&attributes(attributes)` для главного контейнера компонента

3. Название файла комонента, сам mixin компонента, HTML блок и CSS селкторы, должны совпадать
